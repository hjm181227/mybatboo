"use strict";(self.webpackChunkmybatboo=self.webpackChunkmybatboo||[]).push([[3019,4650],{3019:(E,h,n)=>{n.r(h),n.d(h,{CategoryDiagnosisRecordListComponent:()=>L});var e=n(5649),l=n(1135),p=n(9841),m=n(3900),C=n(9300),f=n(4650),u=n(974),O=n(8484),x=n(50),d=n(9282),t=n(2223),i=n(8615),r=n(8740),s=n(4755),P=n(6921);function D(a,c){if(1&a&&(t.ynx(0),t._uU(1),t.BQk()),2&a){const o=t.oxw().$implicit;t.xp6(1),t.hij("\uc678 ",o.diagnosisResultList.length-1," \uac1c")}}function v(a,c){if(1&a){const o=t.EpF();t.TgZ(0,"div",5),t.NdJ("click",function(){const M=t.CHM(o).$implicit,_=t.oxw(2);return t.KtG(_.openDiagnosisResult(M))}),t._UZ(1,"img",6)(2,"crop-type-badge",7),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"diseaseName"),t.YNc(6,D,2,1,"ng-container",2),t.qZA(),t.TgZ(7,"span"),t._uU(8),t.ALo(9,"date"),t.qZA()()}if(2&a){const o=c.$implicit;t.xp6(1),t.Q6J("src",o.diagnosisRecord.imagePath,t.LSH),t.xp6(1),t.Q6J("cropType",o.diagnosisRecord.cropType),t.xp6(2),t.hij(" \ubcd1\ud574\uba85: ",t.lcZ(5,5,o.diagnosisResultList[0].diseaseCode)," "),t.xp6(2),t.Q6J("ngIf",o.diagnosisResultList.length>1),t.xp6(2),t.hij("\uc9c4\ub2e8\uc77c: ",t.xi3(9,7,o.diagnosisRecord.regDate,"yyyy.MM.dd HH:mm"),"")}}function R(a,c){if(1&a&&(t.ynx(0),t.TgZ(1,"div",8),t._UZ(2,"mp-icon",9),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"categoryName"),t.qZA()(),t.BQk()),2&a){const o=t.oxw(2);t.xp6(4),t.hij("'",t.lcZ(5,1,o.category.name),"'\uc5d0 \ucd94\uac00\ub41c \uc9c4\ub2e8 \uae30\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4")}}function T(a,c){if(1&a&&(t.ynx(0),t.TgZ(1,"div",3),t.YNc(2,v,10,10,"div",4),t.qZA(),t.YNc(3,R,6,3,"ng-container",2),t.BQk()),2&a){const o=c.ngIf;t.xp6(2),t.Q6J("ngForOf",o),t.xp6(1),t.Q6J("ngIf",0===(null==o?null:o.length))}}let L=(()=>{class a extends e.NT{constructor(o,g,y){super(),this.api=o,this.modalRef=g,this.modalService=y,this.status$=new l.X(e.Lr.INITIAL),this.loader$=new l.X(null),this.records$=(0,p.a)([this.loader$,(0,e.X5)(this,"category")]).pipe((0,C.h)(([M,_])=>!!_),(0,m.w)(([M,_])=>this.api.loadCategoryDiagnosisRecords(_.id).pipe()))}ngOnInit(){this.modalRef.setClass("diagnosis-record-list-modal")}close(){this.modalRef.hide()}openDiagnosisResult(o){Promise.all([n.e(5554),n.e(7615),n.e(8592)]).then(n.bind(n,7615)).then(g=>{this.modalService.show(g.DiagnosisResultComponent,{initialState:{diagnosisId:o.diagnosisRecord.id},onClose:()=>this.loader$.next(null)})})}}return a.\u0275fac=function(o){return new(o||a)(t.Y36(i.s),t.Y36(r.UZ),t.Y36(r.tT))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-category-diagnosis-record-list"]],inputs:{category:"category"},standalone:!0,features:[t.qOj,t.jDz],decls:5,vars:6,consts:[["height","64px",3,"title"],["left","","iconName","arrow_back","size","m","variant","void","color","grayDark",3,"click"],[4,"ngIf"],[1,"record-container"],["class","record-item",3,"click",4,"ngFor","ngForOf"],[1,"record-item",3,"click"],[3,"src"],[3,"cropType"],[1,"empty"],["name","cloud_off","color","grayLight","size","44px"]],template:function(o,g){1&o&&(t.TgZ(0,"page-header",0),t.ALo(1,"categoryName"),t.TgZ(2,"mp-icon-button",1),t.NdJ("click",function(){return g.close()}),t.qZA()(),t.YNc(3,T,4,2,"ng-container",2),t.ALo(4,"async")),2&o&&(t.Q6J("title",t.lcZ(1,2,g.category.name)),t.xp6(3),t.Q6J("ngIf",t.lcZ(4,4,g.records$)))},dependencies:[u.B,s.sg,s.O5,P.zJ,P.KT,P.k_,s.Ov,s.uU,f.q,O.D,x.Y,d.A],styles:['@charset "UTF-8";.bottom-sheet[_nghost-%COMP%], .bottom-sheet   [_nghost-%COMP%]{height:auto;max-height:auto!important}[_nghost-%COMP%]{padding-top:var(--page-header-height);padding-bottom:var(--bottom-fixed-bar-height)}[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}[_nghost-%COMP%]   page-header[_ngcontent-%COMP%]{box-shadow:inset 0 -1px #0000001f}[_nghost-%COMP%]   .record-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:12px;grid-row-gap:12px;padding:12px 20px 24px}[_nghost-%COMP%]   .record-container[_ngcontent-%COMP%]   .record-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:12px;gap:12px;border-radius:12px;box-shadow:0 6px 16px #14141414,0 0 0 1px #1414140f}[_nghost-%COMP%]   .record-container[_ngcontent-%COMP%]   .record-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 auto;width:100%;height:auto;aspect-ratio:1;border-radius:12px}[_nghost-%COMP%]   .record-container[_ngcontent-%COMP%]   .record-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;color:var(--gray);font-weight:500}[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;align-items:center;justify-content:center;padding-bottom:36px;font-size:18px;color:var(--gray);font-weight:500}']}),a})()},4650:(E,h,n)=>{n.d(h,{q:()=>x});var e=n(2223),l=n(4755),p=n(5649),m=n(6921),C=n(974);const f=["titleDiv"],u=[[["","left",""]],[["mp-text","center",""]],[["",8,"center"]],[["","right",""]],[["",8,"actions"]]],O=["[left]","mp-text[center]",".center","[right]",".actions"];let x=(()=>{class d extends p.NT{constructor(i,r,s){super(),this.platformId=i,this.elementRef=r,this.renderer=s,this.backgroundColor="white"}get parentElement(){return this.elementRef.nativeElement.parentElement}ngOnInit(){if(!this.height)throw new Error("page-header\uc5d0 height \uc778\ud48b\uc744 \ubb34\uc870\uac74 \ub123\uc5b4\uc918\uc57c\ud569\ub2c8\ub2e4.");this.subscribeOn((0,p.oi)(this,this.renderer,this.elementRef.nativeElement,{"--text-color":({titleColor:i})=>m.u$.parse(i),"--page-header-background":({backgroundColor:i})=>m.u$.parse(i)}))}ngAfterViewInit(){(0,l.NF)(this.platformId)&&(this._backupHeight=getComputedStyle(this.parentElement).getPropertyValue("--page-header-height")),this.subscribeOn((0,p.oi)(this,this.renderer,this.parentElement,{"--page-header-height":({height:i})=>i}))}ngOnDestroy(){super.ngOnDestroy(),(0,l.NF)(this.platformId)&&(this._backupHeight?this.renderer.setStyle(this.parentElement,"--page-header-height",this._backupHeight,e.JOm.DashCase):this.renderer.removeStyle(this.parentElement,"--page-header-height",e.JOm.DashCase))}}return d.\u0275fac=function(i){return new(i||d)(e.Y36(e.Lbi),e.Y36(e.SBq),e.Y36(e.Qsj))},d.\u0275cmp=e.Xpm({type:d,selectors:[["page-header"],["top-panel"]],viewQuery:function(i,r){if(1&i&&e.Gf(f,5),2&i){let s;e.iGM(s=e.CRH())&&(r.titleElement=s.first)}},hostVars:2,hostBindings:function(i,r){2&i&&e.Udp("padding",r.padding)},inputs:{title:"title",height:"height",titleColor:"titleColor",padding:"padding",backgroundColor:"backgroundColor"},standalone:!0,features:[e.qOj,e.jDz],ngContentSelectors:O,decls:11,vars:1,consts:[[1,"flex"],[1,"left-container"],[1,"center","title"],["titleDiv",""],[1,"right-container"]],template:function(i,r){1&i&&(e.F$t(u),e.TgZ(0,"div",0)(1,"div",1),e.Hsn(2),e.qZA(),e.TgZ(3,"div",2,3),e._uU(5),e.Hsn(6,1),e.Hsn(7,2),e.qZA(),e.TgZ(8,"div",4),e.Hsn(9,3),e.qZA()(),e.Hsn(10,4)),2&i&&(e.xp6(5),e.hij(" ",r.title," "))},dependencies:[C.B],styles:['@charset "UTF-8";[_nghost-%COMP%]{width:100%;display:flex;flex-direction:column;padding:14px;background-color:var(--page-header-background-important, var(--page-header-background))}.is-modal[_nghost-%COMP%]{border-top-right-radius:14px;border-top-left-radius:14px}.tab-bar-hidden.header-hidden[_nghost-%COMP%], .tab-bar-hidden.header-hidden   [_nghost-%COMP%]{transform:translateY(0)}.flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;margin:auto 0}.flex[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}.flex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .flex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]     .center{overflow:hidden;text-overflow:ellipsis;flex:1.5;text-align:center;font-size:14px;font-weight:500;line-height:1.58;color:var(--text-color, var(--grayDark));white-space:nowrap}.flex[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center}.flex[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:0 4px 0 0}.flex[_ngcontent-%COMP%]    +.actions{width:100%;margin-top:12px}']}),d})()}}]);