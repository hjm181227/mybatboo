"use strict";(self.webpackChunkmybatboo=self.webpackChunkmybatboo||[]).push([[4961,4650],{4961:(k,B,r)=>{r.r(B),r.d(B,{InquiryHistoryComponent:()=>c});var a=r(974),g=r(1135),f=r(3900),x=r(8505),M=r(5554),C=r(6921),u=r(5649),P=r(9300),I=r(4650),_=r(50),t=r(9282),n=r(2223),h=r(8740),O=r(8615),y=r(4755);function v(o,s){1&o&&(n.TgZ(0,"div",13),n._UZ(1,"mp-icon",14),n.TgZ(2,"span"),n._uU(3,"\uc9c4\ub2e8\uae30\ub85d\uc744 \ubd88\ub7ec\uc624\ub294\uc911\uc785\ub2c8\ub2e4"),n.qZA()())}function b(o,s){if(1&o&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&o){const e=n.oxw(2).ngIf;n.xp6(1),n.hij("\uc678 ",(null==e.diagnosisRecord?null:e.diagnosisRecord.diagnosisResults.length)-1," \uac1c")}}function Z(o,s){if(1&o&&(n.TgZ(0,"div",15),n._UZ(1,"img",16),n.TgZ(2,"div",17)(3,"div",18),n._UZ(4,"crop-type-badge",19),n.TgZ(5,"span"),n._uU(6),n.ALo(7,"date"),n.qZA()(),n.TgZ(8,"div",18),n._uU(9),n.ALo(10,"diseaseName"),n.YNc(11,b,2,1,"span",3),n.qZA()()()),2&o){const e=n.oxw().ngIf;n.xp6(1),n.Q6J("src",null==e.diagnosisRecord?null:e.diagnosisRecord.imagePath,n.LSH)("alt","\uc791\ubb3c \uc774\ubbf8\uc9c0"),n.xp6(3),n.Q6J("cropType",null==e.diagnosisRecord?null:e.diagnosisRecord.cropType),n.xp6(2),n.Oqu(n.xi3(7,7,null==e.diagnosisRecord?null:e.diagnosisRecord.regDate,"yyyy.MM.dd HH:mm")),n.xp6(3),n.AsE(" \ubcd1\ud574: ",n.lcZ(10,10,null==e.diagnosisRecord||null==e.diagnosisRecord.diagnosisResults[0]?null:e.diagnosisRecord.diagnosisResults[0].diseaseCode)," (",(100*(null==e.diagnosisRecord?null:e.diagnosisRecord.diagnosisResults[0].accuracy)).toFixed(2),"%) "),n.xp6(2),n.Q6J("ngIf",(null==e.diagnosisRecord?null:e.diagnosisRecord.diagnosisResults.length)>1)}}function T(o,s){if(1&o&&(n.TgZ(0,"span",20),n._uU(1),n.ALo(2,"date"),n.qZA()),2&o){const e=n.oxw().ngIf;n.xp6(1),n.Oqu(n.xi3(2,1,null==e.reply?null:e.reply.regDate,"yyyy.MM.dd HH:mm"))}}function A(o,s){if(1&o&&(n.ynx(0),n.TgZ(1,"span",21),n._uU(2),n.qZA(),n.BQk()),2&o){const e=n.oxw().ngIf;n.xp6(2),n.Oqu(null==e.reply?null:e.reply.contents)}}function q(o,s){1&o&&(n.ynx(0),n.TgZ(1,"mp-helper-text",22),n._UZ(2,"mp-icon",23),n.qZA(),n.BQk())}function D(o,s){if(1&o&&(n.ynx(0),n.TgZ(1,"div",4)(2,"div",5),n._uU(3),n.TgZ(4,"span"),n._uU(5),n.ALo(6,"date"),n.qZA()(),n.TgZ(7,"div",6),n._uU(8),n.qZA()(),n.TgZ(9,"div",7),n._uU(10,"\uc9c4\ub2e8 \uae30\ub85d"),n.qZA(),n.YNc(11,v,4,0,"div",8),n.YNc(12,Z,12,12,"div",9),n.TgZ(13,"div",10),n._uU(14," \uc804\ubb38\uac00 \ub2f5\ubcc0 "),n.YNc(15,T,3,4,"span",11),n.qZA(),n.TgZ(16,"div",12),n.YNc(17,A,3,1,"ng-container",3),n.YNc(18,q,3,0,"ng-container",3),n.qZA(),n.BQk()),2&o){const e=s.ngIf;n.xp6(3),n.hij(" ",null==e.inquiry?null:e.inquiry.title," "),n.xp6(2),n.Oqu(n.xi3(6,8,null==e.inquiry?null:e.inquiry.regDate,"yyyy.MM.dd HH:mm")),n.xp6(3),n.hij(" ",null==e.inquiry?null:e.inquiry.contents," "),n.xp6(3),n.Q6J("ngIf",e.diagnosisRecordStatus.pending),n.xp6(1),n.Q6J("ngIf",e.diagnosisRecord),n.xp6(3),n.Q6J("ngIf",(null==e.inquiry?null:e.inquiry.replyId)>-1),n.xp6(2),n.Q6J("ngIf",(null==e.inquiry?null:e.inquiry.replyId)>-1),n.xp6(1),n.Q6J("ngIf",-1===(null==e.inquiry?null:e.inquiry.replyId))}}const w=function(o,s,e,d,p,H){return{inquiry:o,status:s,diagnosisRecord:e,diagnosisRecordStatus:d,reply:p,replyStatus:H}};let E=(()=>{class o{constructor(e,d){this.modalRef=e,this.api=d,this.status$=new g.X(u.Lr.INITIAL),this.inquiry$=(0,u.X5)(this,"inquiryId").pipe((0,P.h)(p=>!!p),(0,f.w)(p=>this.api.loadInquiryDetail(p).pipe((0,u.vC)(this.status$),(0,x.b)(console.log)))),this.diagnosisStatus$=new g.X(u.Lr.INITIAL),this.diagnosisRecord$=this.inquiry$.pipe((0,P.h)(p=>!!p&&!!p.diagnosisRecordId),(0,f.w)(({diagnosisRecordId:p})=>this.api.getDiagnosisResult(p).pipe((0,u.vC)(this.diagnosisStatus$),(0,x.b)(console.log)))),this.replyStatus$=new g.X(u.Lr.INITIAL),this.reply$=this.inquiry$.pipe((0,P.h)(p=>!!p&&p.replyId>-1),(0,f.w)(({replyId:p})=>this.api.loadInquiryReply(p).pipe((0,u.vC)(this.replyStatus$),(0,x.b)(console.log))))}close(){this.modalRef.hide()}}return o.\u0275fac=function(e){return new(e||o)(n.Y36(h.UZ),n.Y36(O.s))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-inquiry-detail"]],inputs:{inquiryId:"inquiryId"},standalone:!0,features:[n.jDz],decls:11,vars:20,consts:[["height","64px"],["left","","size","m","iconName","close","color","grayDark","variant","void",3,"click"],["center",""],[4,"ngIf"],[1,"inquiry-info"],[1,"title"],[1,"content"],[1,"record-label"],["class","record-placeholder",4,"ngIf"],["class","selected-record",4,"ngIf"],[1,"reply-label"],["class","date",4,"ngIf"],[1,"reply-container"],[1,"record-placeholder"],["name","clock_loader_60","type","outlined","size","36px","color","grayLight"],[1,"selected-record"],[3,"src","alt"],[1,"info"],[1,"line"],[3,"cropType"],[1,"date"],[1,"reply-content"],["label","\uc804\ubb38\uac00\uc758 \ub2f5\ubcc0\uc744 \uae30\ub2e4\ub9ac\ub294 \uc911\uc785\ub2c8\ub2e4.","size","m","color","grayDark"],["name","pending","type","outlined"]],template:function(e,d){1&e&&(n.TgZ(0,"page-header",0)(1,"mp-icon-button",1),n.NdJ("click",function(){return d.close()}),n.qZA(),n.TgZ(2,"mp-text",2),n._uU(3,"\uc804\ubb38\uac00 \ubb38\uc758"),n.qZA()(),n.YNc(4,D,19,11,"ng-container",3),n.ALo(5,"async"),n.ALo(6,"async"),n.ALo(7,"async"),n.ALo(8,"async"),n.ALo(9,"async"),n.ALo(10,"async")),2&e&&(n.xp6(4),n.Q6J("ngIf",n.HTZ(13,w,n.lcZ(5,1,d.inquiry$),n.lcZ(6,3,d.status$),n.lcZ(7,5,d.diagnosisRecord$),n.lcZ(8,7,d.diagnosisStatus$),n.lcZ(9,9,d.reply$),n.lcZ(10,11,d.replyStatus$))))},dependencies:[a.B,y.O5,C.zJ,C.KT,C.OQ,C.l4,C.k_,y.Ov,y.uU,I.q,_.Y,t.A],styles:['@charset "UTF-8";[_nghost-%COMP%]{padding:24px}[_nghost-%COMP%]   page-header[_ngcontent-%COMP%]{box-shadow:inset 0 -1px #0000001f}[_nghost-%COMP%]   .record-label[_ngcontent-%COMP%]{font-size:13px;color:var(--gray);font-weight:500;padding:0 0 8px 4px}[_nghost-%COMP%]   .record-placeholder[_ngcontent-%COMP%]{display:flex;align-items:center;gap:24px;width:100%;padding:12px;height:104px;box-shadow:0 9px 24px #14141414,0 0 0 1px #1414140f;border-radius:8px;margin-bottom:24px;font-size:16px;color:var(--redLight);font-weight:500}[_nghost-%COMP%]   .selected-record[_ngcontent-%COMP%]{display:flex;gap:16px;padding:12px;width:100%;box-shadow:0 6px 16px #14141414,0 0 0 1px #1414140f;border-radius:8px;margin-bottom:24px}[_nghost-%COMP%]   .selected-record[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}[_nghost-%COMP%]   .selected-record[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;gap:8px;width:100%;padding:8px 0}[_nghost-%COMP%]   .selected-record[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}[_nghost-%COMP%]   .inquiry-info[_ngcontent-%COMP%]{padding:24px 0}[_nghost-%COMP%]   .inquiry-info[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:16px;color:var(--grayDark);font-weight:600;padding:0 0 12px 4px}[_nghost-%COMP%]   .inquiry-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:18px;color:var(--grayDarker);font-weight:600;padding:0 0 12px 4px}[_nghost-%COMP%]   .inquiry-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;color:var(--gray);font-weight:500;justify-self:flex-end}[_nghost-%COMP%]   .inquiry-info[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:14px;color:var(--grayDark);font-weight:500;padding:4px}[_nghost-%COMP%]   .reply-label[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:24px 0 12px 4px;font-size:16px;color:var(--grayDark);font-weight:600}[_nghost-%COMP%]   .reply-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;color:var(--gray);font-weight:500;justify-self:flex-end}[_nghost-%COMP%]   .reply-container[_ngcontent-%COMP%]{border-radius:10px;display:flex;flex-direction:column;padding:16px;gap:12px;margin-bottom:24px;height:100%;max-height:300px;overflow:scroll;box-shadow:0 2px 4px #14141405,0 0 0 1px #00000014}[_nghost-%COMP%]   .reply-container[_ngcontent-%COMP%]   .reply-content[_ngcontent-%COMP%]{font-size:14px;color:var(--grayDark);font-weight:500;white-space:pre-wrap}']}),o})();var R=r(8054);function U(o,s){if(1&o){const e=n.EpF();n.TgZ(0,"mp-row",13),n.NdJ("click",function(){const H=n.CHM(e).$implicit,F=n.oxw(2);return n.KtG(F.openInquiryDetail(H.id))}),n.TgZ(1,"mp-col"),n._uU(2),n.qZA(),n.TgZ(3,"mp-col"),n._uU(4),n.ALo(5,"date"),n.qZA(),n.TgZ(6,"mp-col",14),n._UZ(7,"mp-icon",15),n.qZA()()}if(2&o){const e=s.$implicit;n.xp6(2),n.Oqu(e.title),n.xp6(2),n.Oqu(n.xi3(5,3,e.regDate,"yyyy.MM.dd HH:mm")),n.xp6(3),n.Q6J("name",e.replyId>-1?"circle":"close")}}function l(o,s){1&o&&n._UZ(0,"mp-blank",16)}function m(o,s){1&o&&n._UZ(0,"mp-blank",17)}function i(o,s){if(1&o){const e=n.EpF();n.ynx(0),n.TgZ(1,"div",1),n._uU(2),n.TgZ(3,"mp-button",2),n.NdJ("click",function(){n.CHM(e);const p=n.oxw();return n.KtG(p.openInquiryInputForm())}),n._UZ(4,"mp-icon",3),n.qZA()(),n.TgZ(5,"div",4)(6,"mp-table",5),n.ALo(7,"async"),n.TgZ(8,"mp-row",6)(9,"mp-col",7),n._uU(10,"\uc81c\ubaa9"),n.qZA(),n.TgZ(11,"mp-col",8),n._uU(12,"\uc791\uc131\uc77c"),n.qZA(),n.TgZ(13,"mp-col",9),n._uU(14,"\ub2f5\ubcc0"),n.qZA()(),n.YNc(15,U,8,6,"mp-row",10),n.YNc(16,l,1,0,"mp-blank",11),n.YNc(17,m,1,0,"mp-blank",12),n.ALo(18,"async"),n.qZA()(),n.BQk()}if(2&o){const e=s.ngIf,d=n.oxw();let p;n.xp6(2),n.hij(" \uc804\ubb38\uac00 \ubb38\uc758 \ub0b4\uc5ed (",e.length||0,") "),n.xp6(1),n.Q6J("label","\ubb38\uc758\ud558\uae30"),n.xp6(3),n.Q6J("listNum",10)("bodyColor","white")("status",n.lcZ(7,9,d.status$)),n.xp6(3),n.Q6J("flex",1),n.xp6(6),n.Q6J("ngForOf",e),n.xp6(1),n.Q6J("ngIf",0===(null==e?null:e.length)),n.xp6(1),n.Q6J("ngIf",null==(p=n.lcZ(18,11,d.status$))?null:p.pending)}}let c=(()=>{class o{constructor(e,d,p){this.api=e,this.bottomSheet=d,this.modalService=p,this.status$=new g.X(u.Lr.INITIAL),this.loader$=new g.X(null),this.history$=this.loader$.pipe((0,f.w)(()=>this.api.loadInquiryHistory().pipe((0,u.vC)(this.status$),(0,x.b)(console.log))))}openInquiryDetail(e){this.bottomSheet.show(E,{initialState:{inquiryId:e}})}openInquiryInputForm(){this.modalService.show(R.u,{onClose:()=>this.loader$.next(null)})}}return o.\u0275fac=function(e){return new(e||o)(n.Y36(O.s),n.Y36(h.BB),n.Y36(h.tT))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-inquiry-history"]],standalone:!0,features:[n.jDz],decls:2,vars:3,consts:[[4,"ngIf"],[1,"title-label"],["size","xs","variant","outline","color","grayDark",3,"label","click"],["left","","name","add","type","outlined"],[1,"content-section"],["colGap","8px","rowGap","0px","rowPadding","16px 12px","bodyPadding","0",3,"listNum","bodyColor","status"],["head",""],["align","left",3,"flex"],["width","116px","align","left"],["width","30px","align","center"],[3,"click",4,"ngFor","ngForOf"],["minHeight","300px","title","\uc804\ubb38\uac00 \ubb38\uc758 \ub0b4\uc5ed\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.",4,"ngIf"],["minHeight","484px","title","\ubb38\uc758 \ub0b4\uc5ed\uc744 \ubd88\ub7ec\uc624\ub294\uc911\uc785\ub2c8\ub2e4.",4,"ngIf"],[3,"click"],["align","center"],["type","outlined","size","20px","color","grayDark",3,"name"],["minHeight","300px","title","\uc804\ubb38\uac00 \ubb38\uc758 \ub0b4\uc5ed\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."],["minHeight","484px","title","\ubb38\uc758 \ub0b4\uc5ed\uc744 \ubd88\ub7ec\uc624\ub294\uc911\uc785\ub2c8\ub2e4."]],template:function(e,d){1&e&&(n.YNc(0,i,19,13,"ng-container",0),n.ALo(1,"async")),2&e&&n.Q6J("ngIf",n.lcZ(1,1,d.history$))},dependencies:[a.B,y.sg,y.O5,C.zJ,C.gL,C.k_,y.Ov,y.uU,M.gH,M.Xh,M.wb,M.ST,C.DJ],styles:['@charset "UTF-8";[_nghost-%COMP%]{padding:24px;display:flex;flex-direction:column}[_nghost-%COMP%]   .title-label[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 0 12px 8px;font-size:16px;color:var(--grayDark);font-weight:600}[_nghost-%COMP%]   .title-label[_ngcontent-%COMP%]   mp-button[_ngcontent-%COMP%]{margin-left:auto}[_nghost-%COMP%]   mp-table[_ngcontent-%COMP%]{display:block;overflow:hidden;border-radius:10px;box-shadow:0 2px 4px #14141405,0 0 0 1px #00000014}[_nghost-%COMP%]   mp-table[_ngcontent-%COMP%]   mp-row[head][_ngcontent-%COMP%]{font-size:15px;color:var(--grayDark);font-weight:500;background-color:#f5f5f5;box-shadow:inset 0 -1px #0000000a,inset 0 1px #0000000a}[_nghost-%COMP%]   mp-table[_ngcontent-%COMP%]   mp-row[_ngcontent-%COMP%]:not(.head)   mp-col[_ngcontent-%COMP%]{font-size:14px;color:var(--grayDark);font-weight:400}[_nghost-%COMP%]   mp-table[_ngcontent-%COMP%]   mp-row[_ngcontent-%COMP%]:not(.head) + mp-row[_ngcontent-%COMP%]:not(.head){border-top:1px solid var(--grayLightest)}']}),o})()},8054:(k,B,r)=>{r.d(B,{u:()=>U});var a=r(974),g=r(9401),f=r(5649),x=r(4650),M=r(50),C=r(9282),u=r(6921),P=r(4657),I=r(1135),_=r(8505),t=r(2223),n=r(8740),h=r(8615),O=r(5800),y=r(1757),v=r(4755);function b(l,m){if(1&l){const i=t.EpF();t.TgZ(0,"div",5),t.NdJ("click",function(){const s=t.CHM(i).$implicit,e=t.oxw(2);return t.KtG(e.select(s))}),t._UZ(1,"img",6)(2,"crop-type-badge",7),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"diseaseName"),t.qZA(),t.TgZ(6,"span"),t._uU(7),t.ALo(8,"date"),t.qZA()()}if(2&l){const i=m.$implicit;t.xp6(1),t.Q6J("src",i.imagePath,t.LSH),t.xp6(1),t.Q6J("cropType",i.cropType),t.xp6(2),t.hij("\ubcd1\ud574\uba85: ",t.lcZ(5,4,i.diagnosisResults[0].diseaseCode),""),t.xp6(3),t.hij("\uc9c4\ub2e8\uc77c: ",t.xi3(8,6,i.regDate,"yyyy.MM.dd HH:mm"),"")}}function Z(l,m){if(1&l){const i=t.EpF();t.ynx(0),t.TgZ(1,"div",8)(2,"span"),t._uU(3,"\uc544\uc9c1 \uc791\ubb3c\uc744 \uc9c4\ub2e8\ud55c \uae30\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."),t.qZA(),t.TgZ(4,"mp-button",9),t.NdJ("click",function(){t.CHM(i);const o=t.oxw(2);return t.KtG(o.goToDiagnosis())}),t._UZ(5,"mp-icon",10),t.qZA()(),t.BQk()}}function T(l,m){if(1&l&&(t.ynx(0),t.TgZ(1,"div",3),t.YNc(2,b,9,9,"div",4),t.qZA(),t.YNc(3,Z,6,0,"ng-container",2),t.BQk()),2&l){const i=m.ngIf;t.xp6(2),t.Q6J("ngForOf",i),t.xp6(1),t.Q6J("ngIf",0===(null==i?null:i.length))}}let A=(()=>{class l{constructor(i,c,o,s,e){this.modalRef=i,this.api=c,this.diagnosis=o,this.router=s,this.modalService=e,this.recordList$=this.api.loadUserDiagnosisRecords()}close(){this.modalRef.hide()}goToDiagnosis(){this.router.navigate(["/main"]).then(()=>{this.modalRef.hide(),this.diagnosis.startDiagnosis()})}select(i){this.selectedRecord=i,this.close()}}return l.\u0275fac=function(i){return new(i||l)(t.Y36(n.UZ),t.Y36(h.s),t.Y36(O.r),t.Y36(y.F0),t.Y36(n.tT))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-inquiry-record-select-modal"]],standalone:!0,features:[t.jDz],decls:4,vars:4,consts:[["height","64px",3,"title"],["left","","iconName","close","size","m","variant","void","color","grayDark",3,"click"],[4,"ngIf"],[1,"record-container"],["class","record-item",3,"click",4,"ngFor","ngForOf"],[1,"record-item",3,"click"],[3,"src"],[3,"cropType"],[1,"empty"],["label","\uc791\ubb3c \uc9c4\ub2e8\ud558\uae30","color","green","size","m",3,"click"],["left","","name","add_to_photos"]],template:function(i,c){1&i&&(t.TgZ(0,"page-header",0)(1,"mp-icon-button",1),t.NdJ("click",function(){return c.close()}),t.qZA()(),t.YNc(2,T,4,2,"ng-container",2),t.ALo(3,"async")),2&i&&(t.Q6J("title","\uc9c4\ub2e8 \uae30\ub85d \uc120\ud0dd"),t.xp6(2),t.Q6J("ngIf",t.lcZ(3,2,c.recordList$)))},dependencies:[a.B,v.sg,v.O5,u.zJ,u.KT,u.gL,u.k_,v.Ov,v.uU,x.q,M.Y,C.A],styles:['@charset "UTF-8";.bottom-sheet[_nghost-%COMP%], .bottom-sheet   [_nghost-%COMP%]{height:auto;max-height:auto!important}[_nghost-%COMP%]{padding-top:var(--page-header-height);padding-bottom:var(--bottom-fixed-bar-height)}[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}[_nghost-%COMP%]   page-header[_ngcontent-%COMP%]{box-shadow:inset 0 -1px #0000001f}[_nghost-%COMP%]   .record-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:12px;grid-row-gap:12px;padding:12px 20px 24px}[_nghost-%COMP%]   .record-container[_ngcontent-%COMP%]   .record-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:12px;gap:12px;border-radius:12px;box-shadow:0 6px 16px #14141414,0 0 0 1px #1414140f}[_nghost-%COMP%]   .record-container[_ngcontent-%COMP%]   .record-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 auto;width:100%;height:auto;aspect-ratio:1;border-radius:12px}[_nghost-%COMP%]   .record-container[_ngcontent-%COMP%]   .record-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;color:var(--gray);font-weight:500}[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;align-items:center;justify-content:center;padding-bottom:36px;font-size:18px;color:var(--gray);font-weight:500}']}),l})();var q=r(5698),D=r(7204);function w(l,m){if(1&l){const i=t.EpF();t.TgZ(0,"div",13),t.NdJ("click",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.openRecordSelector())}),t._UZ(1,"mp-icon",14),t.TgZ(2,"span"),t._uU(3,"\ubb38\uc758\ud560 \uc9c4\ub2e8 \uae30\ub85d\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694"),t.qZA()()}}function E(l,m){if(1&l&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&l){const i=t.oxw(2);t.xp6(1),t.hij("\uc678 ",(null==i.form.record.value?null:i.form.record.value.diagnosisResults.length)-1," \uac1c")}}function R(l,m){if(1&l){const i=t.EpF();t.TgZ(0,"div",15),t.NdJ("click",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.openRecordSelector())}),t._UZ(1,"img",16),t.TgZ(2,"div",17)(3,"div",18),t._UZ(4,"crop-type-badge",19),t.TgZ(5,"span"),t._uU(6),t.ALo(7,"date"),t.qZA()(),t.TgZ(8,"div",18),t._uU(9),t.ALo(10,"diseaseName"),t.YNc(11,E,2,1,"span",20),t.qZA()()()}if(2&l){const i=t.oxw();t.xp6(1),t.Q6J("src",null==i.form.record.value?null:i.form.record.value.imagePath,t.LSH)("alt","\uc791\ubb3c \uc774\ubbf8\uc9c0"),t.xp6(3),t.Q6J("cropType",null==i.form.record.value?null:i.form.record.value.cropType),t.xp6(2),t.Oqu(t.xi3(7,7,null==i.form.record.value?null:i.form.record.value.regDate,"yyyy.MM.dd HH:mm")),t.xp6(3),t.AsE(" \ubcd1\ud574: ",t.lcZ(10,10,null==i.form.record.value||null==i.form.record.value.diagnosisResults[0]?null:i.form.record.value.diagnosisResults[0].diseaseCode)," (",(100*(null==i.form.record.value?null:i.form.record.value.diagnosisResults[0].accuracy)).toFixed(2),"%) "),t.xp6(2),t.Q6J("ngIf",(null==i.form.record.value?null:i.form.record.value.diagnosisResults.length)>1)}}let U=(()=>{class l extends f.NT{constructor(i,c,o,s,e){super(),this.api=i,this.modalRef=c,this.toast=o,this.router=s,this.bottomSheet=e,this.form={record:new g.NI(null,[g.kI.required]),title:new g.NI("",[g.kI.required]),contents:new g.NI("",[g.kI.required])},this.formGroup=new g.cw(this.form),this.status$=new I.X(f.Lr.INITIAL)}ngOnInit(){this.modalRef.setClass("inquiry-input-form"),this.record&&this.form.record.patchValue(this.record)}close(){this.modalRef.hide()}submit(){const{record:i,title:c,contents:o}=this.formGroup.value;this.api.sendInquiry({diagnosisId:i.diagnosisRecordId,title:c,contents:o}).pipe((0,f.vC)(this.status$),(0,_.b)(()=>this.toast.show("\ubb38\uc758\uac00 \uc791\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")),(0,_.b)(()=>this.close()),(0,_.b)(()=>this.router.navigate(["/my-page","inquiry"]))).subscribe()}openRecordSelector(){if(this.record)return;const i=this.bottomSheet.show(A);i.onHide.pipe((0,q.q)(1),(0,_.b)(()=>{i.content.selectedRecord&&this.form.record.patchValue(i.content.selectedRecord)})).subscribe()}}return l.\u0275fac=function(i){return new(i||l)(t.Y36(h.s),t.Y36(n.UZ),t.Y36(D.k),t.Y36(y.F0),t.Y36(n.BB))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-inquiry-input-form"]],inputs:{record:"record"},standalone:!0,features:[t.qOj,t.jDz],decls:16,vars:14,consts:[["height","64px",3,"title"],["left","","iconName","arrow_back","size","m","variant","void","color","grayDark",3,"click"],[1,"form-container"],[1,"record-label"],["class","record-selector",3,"click",4,"ngIf"],["class","selected-record",3,"click",4,"ngIf"],[1,"input-form"],["size","l","label","\ubb38\uc758 \uc81c\ubaa9","type","text","backgroundColor","white","boxShadow","0 2px 4px 0 rgba(20, 20, 20, 0.02), 0 0 0 1px rgba(0, 0, 0, 0.08)",3,"placeholder","formControl"],[1,"contents-label"],["padding","14px","backgroundColor","white","boxShadow","0 2px 4px 0 rgba(20, 20, 20, 0.02), 0 0 0 1px rgba(0, 0, 0, 0.08)",3,"formControl","placeholder","maxLength","autoFocus","height"],["height","81px"],["label","\ubb38\uc758\ud558\uae30","variant","fill","color","blue","size","m",3,"disabled","loading","click"],["left","","name","send"],[1,"record-selector",3,"click"],["name","touch_app","type","outlined","size","36px","color","redLight"],[1,"selected-record",3,"click"],[3,"src","alt"],[1,"info"],[1,"line"],[3,"cropType"],[4,"ngIf"]],template:function(i,c){1&i&&(t.TgZ(0,"page-header",0)(1,"mp-icon-button",1),t.NdJ("click",function(){return c.close()}),t.qZA()(),t.TgZ(2,"div",2)(3,"div",3),t._uU(4,"\uc9c4\ub2e8 \uae30\ub85d"),t.qZA(),t.YNc(5,w,4,0,"div",4),t.YNc(6,R,12,12,"div",5),t.TgZ(7,"div",6),t._UZ(8,"mp-input",7),t.TgZ(9,"div",8),t._uU(10,"\ubb38\uc758 \ub0b4\uc6a9"),t.qZA(),t._UZ(11,"mp-textarea",9),t.qZA()(),t.TgZ(12,"bottom-fixed-bar",10)(13,"mp-button",11),t.NdJ("click",function(){return c.submit()}),t.ALo(14,"async"),t._UZ(15,"mp-icon",12),t.qZA()()),2&i&&(t.Q6J("title","\ubb38\uc758 \uc791\uc131"),t.xp6(5),t.Q6J("ngIf",!c.form.record.value),t.xp6(1),t.Q6J("ngIf",c.form.record.value),t.xp6(2),t.Q6J("placeholder","\uc81c\ubaa9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.")("formControl",c.form.title),t.xp6(3),t.Q6J("formControl",c.form.contents)("placeholder","\uc9c4\ub2e8 \uae30\ub85d\uc5d0 \ub300\ud574 \uad81\uae08\ud55c \uc810\uc744 \uc791\uc131\ud574\ubcf4\uc138\uc694.")("maxLength",500)("autoFocus",!1)("height","250px"),t.xp6(2),t.Q6J("disabled",c.form.record.invalid||c.form.title.invalid||c.form.contents.invalid)("loading",t.lcZ(14,12,c.status$).pending))},dependencies:[a.B,v.O5,g.JJ,g.oH,u.zJ,u.KT,u.gL,u.k_,v.Ov,v.uU,x.q,M.Y,C.A,u.lh,u.Ly,P.N],styles:['@charset "UTF-8";  .modal-dialog.inquiry-input-form{margin:0}  .modal-dialog.inquiry-input-form .modal-content{display:block;border-radius:0;min-width:100vw;min-height:var(--full-height);margin:0}[_nghost-%COMP%]   page-header[_ngcontent-%COMP%]{box-shadow:inset 0 -1px #0000001f}[_nghost-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:24px;display:flex;flex-direction:column}[_nghost-%COMP%]   .form-container[_ngcontent-%COMP%]   .record-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .form-container[_ngcontent-%COMP%]   .contents-label[_ngcontent-%COMP%]{font-size:13px;color:var(--gray);font-weight:500;padding:0 0 8px 6px}[_nghost-%COMP%]   .form-container[_ngcontent-%COMP%]   .record-selector[_ngcontent-%COMP%]{display:flex;align-items:center;gap:24px;width:100%;padding:12px;height:104px;box-shadow:0 9px 24px #14141414,0 0 0 1px #1414140f;border-radius:8px;margin-bottom:24px;font-size:16px;color:var(--redLight);font-weight:500}[_nghost-%COMP%]   .form-container[_ngcontent-%COMP%]   .selected-record[_ngcontent-%COMP%]{display:flex;gap:16px;padding:12px;width:100%;box-shadow:0 6px 16px #14141414,0 0 0 1px #1414140f;border-radius:8px;margin-bottom:24px}[_nghost-%COMP%]   .form-container[_ngcontent-%COMP%]   .selected-record[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}[_nghost-%COMP%]   .form-container[_ngcontent-%COMP%]   .selected-record[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;gap:8px;width:100%;padding:8px 0}[_nghost-%COMP%]   .form-container[_ngcontent-%COMP%]   .selected-record[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}[_nghost-%COMP%]   .form-container[_ngcontent-%COMP%]   mp-input[_ngcontent-%COMP%]{display:block;margin-bottom:24px}[_nghost-%COMP%]   bottom-fixed-bar[_ngcontent-%COMP%]{padding:24px}[_nghost-%COMP%]   bottom-fixed-bar[_ngcontent-%COMP%]   mp-button[_ngcontent-%COMP%]{width:100%}']}),l})()},4650:(k,B,r)=>{r.d(B,{q:()=>I});var a=r(2223),g=r(4755),f=r(5649),x=r(6921),M=r(974);const C=["titleDiv"],u=[[["","left",""]],[["mp-text","center",""]],[["",8,"center"]],[["","right",""]],[["",8,"actions"]]],P=["[left]","mp-text[center]",".center","[right]",".actions"];let I=(()=>{class _ extends f.NT{constructor(n,h,O){super(),this.platformId=n,this.elementRef=h,this.renderer=O,this.backgroundColor="white"}get parentElement(){return this.elementRef.nativeElement.parentElement}ngOnInit(){if(!this.height)throw new Error("page-header\uc5d0 height \uc778\ud48b\uc744 \ubb34\uc870\uac74 \ub123\uc5b4\uc918\uc57c\ud569\ub2c8\ub2e4.");this.subscribeOn((0,f.oi)(this,this.renderer,this.elementRef.nativeElement,{"--text-color":({titleColor:n})=>x.u$.parse(n),"--page-header-background":({backgroundColor:n})=>x.u$.parse(n)}))}ngAfterViewInit(){(0,g.NF)(this.platformId)&&(this._backupHeight=getComputedStyle(this.parentElement).getPropertyValue("--page-header-height")),this.subscribeOn((0,f.oi)(this,this.renderer,this.parentElement,{"--page-header-height":({height:n})=>n}))}ngOnDestroy(){super.ngOnDestroy(),(0,g.NF)(this.platformId)&&(this._backupHeight?this.renderer.setStyle(this.parentElement,"--page-header-height",this._backupHeight,a.JOm.DashCase):this.renderer.removeStyle(this.parentElement,"--page-header-height",a.JOm.DashCase))}}return _.\u0275fac=function(n){return new(n||_)(a.Y36(a.Lbi),a.Y36(a.SBq),a.Y36(a.Qsj))},_.\u0275cmp=a.Xpm({type:_,selectors:[["page-header"],["top-panel"]],viewQuery:function(n,h){if(1&n&&a.Gf(C,5),2&n){let O;a.iGM(O=a.CRH())&&(h.titleElement=O.first)}},hostVars:2,hostBindings:function(n,h){2&n&&a.Udp("padding",h.padding)},inputs:{title:"title",height:"height",titleColor:"titleColor",padding:"padding",backgroundColor:"backgroundColor"},standalone:!0,features:[a.qOj,a.jDz],ngContentSelectors:P,decls:11,vars:1,consts:[[1,"flex"],[1,"left-container"],[1,"center","title"],["titleDiv",""],[1,"right-container"]],template:function(n,h){1&n&&(a.F$t(u),a.TgZ(0,"div",0)(1,"div",1),a.Hsn(2),a.qZA(),a.TgZ(3,"div",2,3),a._uU(5),a.Hsn(6,1),a.Hsn(7,2),a.qZA(),a.TgZ(8,"div",4),a.Hsn(9,3),a.qZA()(),a.Hsn(10,4)),2&n&&(a.xp6(5),a.hij(" ",h.title," "))},dependencies:[M.B],styles:['@charset "UTF-8";[_nghost-%COMP%]{width:100%;display:flex;flex-direction:column;padding:14px;background-color:var(--page-header-background-important, var(--page-header-background))}.is-modal[_nghost-%COMP%]{border-top-right-radius:14px;border-top-left-radius:14px}.tab-bar-hidden.header-hidden[_nghost-%COMP%], .tab-bar-hidden.header-hidden   [_nghost-%COMP%]{transform:translateY(0)}.flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;margin:auto 0}.flex[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}.flex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .flex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]     .center{overflow:hidden;text-overflow:ellipsis;flex:1.5;text-align:center;font-size:14px;font-weight:500;line-height:1.58;color:var(--text-color, var(--grayDark));white-space:nowrap}.flex[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center}.flex[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:0 4px 0 0}.flex[_ngcontent-%COMP%]    +.actions{width:100%;margin-top:12px}']}),_})()}}]);