"use strict";(self.webpackChunkmybatboo=self.webpackChunkmybatboo||[]).push([[790],{76:(Y,M,f)=>{f.d(M,{GW:()=>T,dk:()=>L,oK:()=>d});var d=(()=>{return(h=d||(d={})).Prompt="PROMPT",h.Camera="CAMERA",h.Photos="PHOTOS",d;var h})(),T=(()=>{return(h=T||(T={})).Rear="REAR",h.Front="FRONT",T;var h})(),L=(()=>{return(h=L||(L={})).Uri="uri",h.Base64="base64",h.DataUrl="dataUrl",L;var h})()},7423:(Y,M,f)=>{f.d(M,{Uw:()=>G,fo:()=>R,xz:()=>x});var d=f(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var C=(()=>{return(n=C||(C={})).Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE",C;var n})();class x extends Error{constructor(e,t,s){super(e),this.message=e,this.code=t,this.data=s}}const O=n=>{var e,t,s,l,o;const m=n.CapacitorCustomPlatform||null,a=n.Capacitor||{},P=a.Plugins=a.Plugins||{},g=n.CapacitorPlatforms,H=(null===(e=g?.currentPlatform)||void 0===e?void 0:e.getPlatform)||(()=>null!==m?m.name:(n=>{var e,t;return n?.androidBridge?"android":null!==(t=null===(e=n?.webkit)||void 0===e?void 0:e.messageHandlers)&&void 0!==t&&t.bridge?"ios":"web"})(n)),le=(null===(t=g?.currentPlatform)||void 0===t?void 0:t.isNativePlatform)||(()=>"web"!==H()),ue=(null===(s=g?.currentPlatform)||void 0===s?void 0:s.isPluginAvailable)||(p=>!(!X.get(p)?.platforms.has(H())&&!re(p))),re=(null===(l=g?.currentPlatform)||void 0===l?void 0:l.getPluginHeader)||(p=>{var v;return null===(v=a.PluginHeaders)||void 0===v?void 0:v.find(D=>D.name===p)}),X=new Map,he=(null===(o=g?.currentPlatform)||void 0===o?void 0:o.registerPlugin)||((p,v={})=>{const D=X.get(p);if(D)return console.warn(`Capacitor plugin "${p}" already registered. Cannot register plugins twice.`),D.proxy;const W=H(),I=re(p);let A;const ve=function(){var y=(0,d.Z)(function*(){return!A&&W in v?A=A="function"==typeof v[W]?yield v[W]():v[W]:null!==m&&!A&&"web"in v&&(A=A="function"==typeof v.web?yield v.web():v.web),A});return function(){return y.apply(this,arguments)}}(),N=y=>{let w;const E=(...j)=>{const $=ve().then(U=>{const S=((y,w)=>{var E,j;if(!I){if(y)return null===(j=y[w])||void 0===j?void 0:j.bind(y);throw new x(`"${p}" plugin is not implemented on ${W}`,C.Unimplemented)}{const $=I?.methods.find(U=>w===U.name);if($)return"promise"===$.rtype?U=>a.nativePromise(p,w.toString(),U):(U,S)=>a.nativeCallback(p,w.toString(),U,S);if(y)return null===(E=y[w])||void 0===E?void 0:E.bind(y)}})(U,y);if(S){const J=S(...j);return w=J?.remove,J}throw new x(`"${p}.${y}()" is not implemented on ${W}`,C.Unimplemented)});return"addListener"===y&&($.remove=(0,d.Z)(function*(){return w()})),$};return E.toString=()=>`${y.toString()}() { [capacitor code] }`,Object.defineProperty(E,"name",{value:y,writable:!1,configurable:!1}),E},oe=N("addListener"),ie=N("removeListener"),Pe=(y,w)=>{const E=oe({eventName:y},w),j=function(){var U=(0,d.Z)(function*(){const S=yield E;ie({eventName:y,callbackId:S},w)});return function(){return U.apply(this,arguments)}}(),$=new Promise(U=>E.then(()=>U({remove:j})));return $.remove=(0,d.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield j()}),$},q=new Proxy({},{get(y,w){switch(w){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return I?Pe:oe;case"removeListener":return ie;default:return N(w)}}});return P[p]=q,X.set(p,{name:p,proxy:q,platforms:new Set([...Object.keys(v),...I?[W]:[]])}),q});return a.convertFileSrc||(a.convertFileSrc=p=>p),a.getPlatform=H,a.handleError=p=>n.console.error(p),a.isNativePlatform=le,a.isPluginAvailable=ue,a.pluginMethodNoop=(p,v,D)=>Promise.reject(`${D} does not have an implementation of "${v}".`),a.registerPlugin=he,a.Exception=x,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a.platform=a.getPlatform(),a.isNative=a.isNativePlatform(),a},Z=(n=>n.Capacitor=O(n))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),R=Z.registerPlugin;class G{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){var s=this;this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t);const o=this.windowListeners[e];o&&!o.registered&&this.addWindowListener(o);const m=function(){var P=(0,d.Z)(function*(){return s.removeListener(e,t)});return function(){return P.apply(this,arguments)}}(),a=Promise.resolve({remove:m});return Object.defineProperty(a,"remove",{value:(P=(0,d.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield m()}),function(){return P.apply(this,arguments)})}),a;var P}removeAllListeners(){var e=this;return(0,d.Z)(function*(){e.listeners={};for(const t in e.windowListeners)e.removeWindowListener(e.windowListeners[t]);e.windowListeners={}})()}notifyListeners(e,t){const s=this.listeners[e];s&&s.forEach(l=>l(t))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:s=>{this.notifyListeners(t,s)}}}unimplemented(e="not implemented"){return new Z.Exception(e,C.Unimplemented)}unavailable(e="not available"){return new Z.Exception(e,C.Unavailable)}removeListener(e,t){var s=this;return(0,d.Z)(function*(){const l=s.listeners[e];if(!l)return;const o=l.indexOf(t);s.listeners[e].splice(o,1),s.listeners[e].length||s.removeWindowListener(s.windowListeners[e])})()}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}const i=n=>encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),b=n=>n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class c extends G{getCookies(){return(0,d.Z)(function*(){const e=document.cookie,t={};return e.split(";").forEach(s=>{if(s.length<=0)return;let[l,o]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");l=b(l).trim(),o=b(o).trim(),t[l]=o}),t})()}setCookie(e){return(0,d.Z)(function*(){try{const t=i(e.key),s=i(e.value),l=`; expires=${(e.expires||"").replace("expires=","")}`,o=(e.path||"/").replace("path=",""),m=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${s||""}${l}; path=${o}; ${m};`}catch(t){return Promise.reject(t)}})()}deleteCookie(e){return(0,d.Z)(function*(){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}})()}clearCookies(){return(0,d.Z)(function*(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}})()}clearAllCookies(){var e=this;return(0,d.Z)(function*(){try{yield e.clearCookies()}catch(t){return Promise.reject(t)}})()}}R("CapacitorCookies",{web:()=>new c});const z=function(){var n=(0,d.Z)(function*(e){return new Promise((t,s)=>{const l=new FileReader;l.onload=()=>{const o=l.result;t(o.indexOf(",")>=0?o.split(",")[1]:o)},l.onerror=o=>s(o),l.readAsDataURL(e)})});return function(t){return n.apply(this,arguments)}}();class ce extends G{request(e){return(0,d.Z)(function*(){const t=((n,e={})=>{const t=Object.assign({method:n.method||"GET",headers:n.headers},e),l=((n={})=>{const e=Object.keys(n);return Object.keys(n).map(l=>l.toLocaleLowerCase()).reduce((l,o,m)=>(l[o]=n[e[m]],l),{})})(n.headers)["content-type"]||"";if("string"==typeof n.data)t.body=n.data;else if(l.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[m,a]of Object.entries(n.data||{}))o.set(m,a);t.body=o.toString()}else if(l.includes("multipart/form-data")){const o=new FormData;if(n.data instanceof FormData)n.data.forEach((a,P)=>{o.append(P,a)});else for(const a of Object.keys(n.data))o.append(a,n.data[a]);t.body=o;const m=new Headers(t.headers);m.delete("content-type"),t.headers=m}else(l.includes("application/json")||"object"==typeof n.data)&&(t.body=JSON.stringify(n.data));return t})(e,e.webFetchExtra),s=((n,e=!0)=>n?Object.entries(n).reduce((s,l)=>{const[o,m]=l;let a,P;return Array.isArray(m)?(P="",m.forEach(g=>{a=e?encodeURIComponent(g):g,P+=`${o}=${a}&`}),P.slice(0,-1)):(a=e?encodeURIComponent(m):m,P=`${o}=${a}`),`${s}&${P}`},"").substr(1):null)(e.params,e.shouldEncodeUrlParams),l=s?`${e.url}?${s}`:e.url,o=yield fetch(l,t),m=o.headers.get("content-type")||"";let P,g,{responseType:a="text"}=o.ok?e:{};switch(m.includes("application/json")&&(a="json"),a){case"arraybuffer":case"blob":g=yield o.blob(),P=yield z(g);break;case"json":P=yield o.json();break;default:P=yield o.text()}const K={};return o.headers.forEach((H,V)=>{K[V]=H}),{data:P,headers:K,status:o.status,url:o.url}})()}get(e){var t=this;return(0,d.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"GET"}))})()}post(e){var t=this;return(0,d.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"POST"}))})()}put(e){var t=this;return(0,d.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"PUT"}))})()}patch(e){var t=this;return(0,d.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"PATCH"}))})()}delete(e){var t=this;return(0,d.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"DELETE"}))})()}}R("CapacitorHttp",{web:()=>new ce})},8790:(Y,M,f)=>{f.r(M),f.d(M,{MainTabComponent:()=>ne});var d=f(955),T=f(7423),L=f(76);const h=(0,T.fo)("Camera",{web:()=>f.e(954).then(f.bind(f,3954)).then(i=>new i.CameraWeb)});var _=f(8505),B=f(262),r=f(8256),C=f(529);let x=(()=>{class i{constructor(c){this.http=c,this.apiUrl="https://15.164.23.13:8080/"}getData(){return this.http.get(`${this.apiUrl}/data`)}sendImageAndLocation(c,u){return this.http.post(`${this.apiUrl}/data`,{image:c,geolocation:u})}}return i.\u0275fac=function(c){return new(c||i)(r.LFG(C.eN))},i.\u0275prov=r.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var k=f(5861);const O=(0,T.fo)("Toast",{web:()=>f.e(789).then(f.bind(f,2789)).then(i=>new i.ToastWeb)});let F=(()=>{class i{showToast(c){return(0,k.Z)(function*(){yield O.show({text:c})})()}}return i.\u0275fac=function(c){return new(c||i)},i.\u0275prov=r.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var Z=f(6895);function R(i,b){if(1&i&&(r.ynx(0),r._UZ(1,"img",1),r.BQk()),2&i){const c=r.oxw();r.xp6(1),r.Q6J("src",c.imageUrl,r.LSH)}}function ee(i,b){if(1&i&&(r.ynx(0),r._uU(1),r.ALo(2,"json"),r.BQk()),2&i){const c=r.oxw();r.xp6(1),r.hij(" ",r.lcZ(2,1,c.imageUri),"\n")}}let te=(()=>{class i{constructor(c,u){this.api=c,this.toast=u,this.imageUrl=""}takePicture(){const c=h.getPhoto({quality:90,width:614,height:614,resultType:L.dk.Uri,saveToGallery:!0});c.then(u=>{this.imageUri=u,this.imageUrl=u.webPath||"",this.exif=u.exif,this.requestDiagnosis(u)}),c.catch(u=>console.log(u))}requestDiagnosis(c){this.api.sendImageAndLocation(this.imageUri).pipe((0,_.b)(u=>console.log(u)),(0,_.b)(u=>this.toast.showToast(u)),(0,B.K)(u=>(console.log(u),u))).subscribe()}}return i.\u0275fac=function(c){return new(c||i)(r.Y36(x),r.Y36(F))},i.\u0275cmp=r.Xpm({type:i,selectors:[["crop-camera"]],hostBindings:function(c,u){1&c&&r.NdJ("click",function(){return u.takePicture()})},standalone:!0,features:[r.jDz],decls:3,vars:2,consts:[[4,"ngIf"],[3,"src"]],template:function(c,u){1&c&&(r._uU(0,"Take Picture\n"),r.YNc(1,R,2,1,"ng-container",0),r.YNc(2,ee,3,3,"ng-container",0)),2&c&&(r.xp6(1),r.Q6J("ngIf",u.imageUrl),r.xp6(1),r.Q6J("ngIf",u.exif))},dependencies:[d.m,Z.O5,Z.Ts],styles:["[_nghost-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}"]}),i})(),G=(()=>{class i{}return i.\u0275fac=function(c){return new(c||i)},i.\u0275cmp=r.Xpm({type:i,selectors:[["bottom-tab-bar"]],standalone:!0,features:[r.jDz],decls:8,vars:0,consts:[[1,"tab-group"],[1,"tab"]],template:function(c,u){1&c&&(r.TgZ(0,"div",0)(1,"div",1),r._uU(2," Main "),r.qZA(),r.TgZ(3,"div",1),r._uU(4," Camera "),r._UZ(5,"crop-camera"),r.qZA(),r.TgZ(6,"div",1),r._uU(7," My Page "),r.qZA()())},dependencies:[d.m,te],styles:["[_nghost-%COMP%]{position:absolute;bottom:0;left:0;display:block;height:86px;width:100%;box-shadow:0 6px 16px #14141414,0 0 0 1px #1414140f}[_nghost-%COMP%]   .tab-group[_ngcontent-%COMP%]{display:flex;width:100%;height:100%}[_nghost-%COMP%]   .tab-group[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center}"]}),i})(),ne=(()=>{class i{}return i.\u0275fac=function(c){return new(c||i)},i.\u0275cmp=r.Xpm({type:i,selectors:[["app-main-tab"]],standalone:!0,features:[r.jDz],decls:3,vars:0,consts:[[1,"main-container"]],template:function(c,u){1&c&&(r.TgZ(0,"div",0),r._uU(1,"\nMain \ud654\uba74\n"),r.qZA(),r._UZ(2,"bottom-tab-bar"))},dependencies:[d.m,G],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]{padding-bottom:86px;max-width:1140px;margin:0 auto;background-color:#00000005}"]}),i})()},5861:(Y,M,f)=>{function d(L,h,_,B,r,C,x){try{var k=L[C](x),O=k.value}catch(F){return void _(F)}k.done?h(O):Promise.resolve(O).then(B,r)}function T(L){return function(){var h=this,_=arguments;return new Promise(function(B,r){var C=L.apply(h,_);function x(O){d(C,B,r,x,k,"next",O)}function k(O){d(C,B,r,x,k,"throw",O)}x(void 0)})}}f.d(M,{Z:()=>T})}}]);